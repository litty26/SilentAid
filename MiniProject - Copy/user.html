<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>SilentAid â€” User</title>
    <link rel="stylesheet" href="user.css" />
    <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#1f77ff">
  </head>
  <body>
    <div id="authSection" class="auth-container" style="display: none"></div>

    <div id="appSection" class="u-shell">
      <aside class="u-rail u-rail-left" aria-label="Help and profile">
        <div class="u-rail-group">
          <h2 class="u-rail-title">Help</h2>
          <ul class="u-list">
            <li>âœ” Type & Speak</li>
            <li>âœ” Quick Phrases</li>
            <li>âœ” Save/Delete Phrases</li>
          </ul>
        </div>

        <div class="u-rail-group">
          <h3 class="u-rail-sub">Shortcuts</h3>
          <ul class="u-list">
            <li>1 â†’ I need help</li>
            <li>2 â†’ Call the doctor</li>
          </ul>
        </div>

        <div class="u-rail-group">
          <h3 class="u-rail-sub">Emergency</h3>
          <div class="u-actions">
            <button class="u-link emergency" data-contact="Caregiver">
              ğŸ‘© Contact Caregiver
            </button>
            <button class="u-link emergency" data-contact="Doctor">
              ğŸ‘¨â€âš•ï¸ Doctor
            </button>
          </div>
        </div>

        <!-- Link caregiver (user side) -->
        <div class="u-card" style="margin-top: 12px">
          <div class="u-card-head"><h3>Link Caregiver</h3></div>
          <div class="u-stack">
            <input
              id="cgNameInput"
              class="input"
              placeholder="Caregiver username"
            />
            <button id="cgLinkBtn" class="btn">Link by username</button>

            <div class="hr" style="margin: 8px 0"></div>

            <input
              id="cgCodeInput"
              class="input"
              placeholder="Enter 6â€‘digit code"
            />
            <button id="cgUseCodeBtn" class="btn">Use code</button>

            <div id="linkedCgInfo" class="help"></div>
          </div>
        </div>

        <div class="u-rail-group">
          <h3 class="u-rail-sub">Profile</h3>
          <div id="profileSection" class="u-profile"></div>
          <button id="logoutBtn" class="u-link">Logout</button>
        </div>
      </aside>

      <main class="u-main" aria-label="Main content">
        <header class="u-header">
          <h1 class="u-title">SilentAid â€” User</h1>
          <div class="u-header-ctrls">
            <label class="u-select-wrap" aria-label="Language">
              <select id="langSelect" class="u-select">
                <option value="en-US">English</option>
              </select>
            </label>
            <button id="themeToggle" class="u-icon-btn" title="Toggle theme">
              ğŸŒ“
            </button>
          </div>
        </header>

        <div aria-live="polite" id="systemMessages" class="sr-only"></div>

        <section class="u-section u-alerts" aria-label="Emergency actions">
          <button class="u-chip danger" id="e1">ğŸš¨ I need help (1)</button>
          <button class="u-chip danger" id="e2">ğŸ‘¨â€âš•ï¸ Call the doctor (2)</button>
        </section>

        <section class="u-section">
          <div class="u-card">
            <div class="u-card-head">
              <h3>Type Your Message</h3>
            </div>
            <div class="u-stack">
              <textarea
                id="messageInput"
                class="u-input u-textarea"
                placeholder="Type your message here..."
                aria-label="Message"
              ></textarea>
              <div class="u-row">
                <button id="speakBtn" class="u-btn primary">ğŸ”Š Speak</button>
                <button id="clearMsgBtn" class="u-btn">âœ– Clear</button>
                <button id="voiceInputBtn" class="u-btn">ğŸ¤ Voice Input</button>
              </div>
            </div>
          </div>
        </section>

        <!-- Add inside the Quick Phrases card, before #quickPhrases -->
        <div class="u-tabs" id="qpTabs" role="tablist" aria-label="Categories">
          <button
            class="u-tab active"
            data-cat="basic"
            role="tab"
            aria-selected="true"
          >
            ğŸ™‚ Basic
          </button>
          <button class="u-tab" data-cat="needs" role="tab">ğŸ½ï¸ Needs</button>
          <button class="u-tab" data-cat="feel" role="tab">ğŸ’¬ Feelings</button>
          <button class="u-tab" data-cat="care" role="tab">ğŸ©º Care</button>
          <button class="u-tab" data-cat="fav" role="tab">â­ Favorites</button>
        </div>

        <div class="u-view-settings">
          <label class="u-switch">
            <input type="checkbox" id="imageOnlyToggle" />
            <span>Imageâ€‘only</span>
          </label>
          <label class="u-range">
            Icon size
            <input
              id="iconSizeRange"
              type="range"
              min="56"
              max="120"
              value="88"
            />
          </label>
          <label class="u-switch">
            <input type="checkbox" id="playHintToggle" checked />
            <span>Audio hints</span>
          </label>
        </div>

        <!-- Favorites strip -->
        <div
          id="favStrip"
          class="u-icon-grid u-favs"
          aria-label="Favorites"
        ></div>

        <!-- Icon tiles grid -->
        <div id="quickPhrases" class="u-icon-grid" aria-live="polite"></div>

        <section class="u-section">
          <div class="u-card">
            <div class="u-card-head">
              <h3>Quick Phrases</h3>
            </div>
            <div id="quickPhrases" class="u-grid"></div>
          </div>
        </section>

        <section class="u-section">
          <div class="u-card">
            <div class="u-card-head">
              <h3>Saved Phrases</h3>
            </div>
            <div id="savedPhrases" class="u-stack-sm"></div>
          </div>
        </section>

        <section class="u-section">
          <div class="u-card">
            <div class="u-card-head">
              <h3>Add Custom Phrase</h3>
            </div>
            <div class="u-row">
              <input
                type="text"
                id="customPhrase"
                class="u-input"
                placeholder="Enter phrase..."
              />
              <button id="saveBtn" class="u-btn success">ğŸ’¾ Save</button>
            </div>
          </div>
        </section>
      </main>

      <aside class="u-rail u-rail-right" aria-label="Clock and reminders">
        <div class="u-rail-group">
          <h3 class="u-rail-sub">Clock</h3>
          <div id="clock" class="u-clock"></div>
        </div>

        <div class="u-rail-group">
          <h3 class="u-rail-sub">Reminders</h3>
          <div id="reminderList" class="u-stack-sm"></div>
          <div class="u-row">
            <input
              type="text"
              id="reminderInput"
              class="u-input"
              placeholder="Add reminder..."
            />
            <button id="addReminderBtn" class="u-btn">â• Add</button>
          </div>
        </div>

        <div class="u-rail-group">
          <button id="exportBtn" class="u-btn ghost">ğŸ“¤ Export Data</button>
          <label class="u-file">
            <input type="file" id="importFile" />
            <span>ğŸ“¥ Import Data</span>
          </label>
        </div>
      </aside>
    </div>

    <script src="user.js"></script>
<script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("./sw.js")
      .then(() => console.log("âœ… Service Worker registered"))
      .catch(err => console.error("âš ï¸ Service Worker failed", err));
  }
</script>
  </body>
</html>
